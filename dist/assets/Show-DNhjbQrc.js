import{r as b,c as p,b as e,d as i,n as x,D as M,E as V,h as m,H as c,w as n,q as L,e as r,X as N,y as S,Y as B,a as $,Z as D,v as o,l as _,M as l}from"./index-BKFwgYGj.js";import{p as F,_ as O,r as K}from"./Countdown-DljLd9pi.js";import{_ as R}from"./PageHeader-BjBIvRHJ.js";import{_ as U}from"./Breadcrumbs-iX88iyfR.js";import{O as y,k as f,h as W}from"./radio-group-_k04fa9J.js";import"./form-DBM8_knK.js";import"./description-Be9nT-VS.js";const I={class:"grid gap-5 md:grid-cols-3 lg:grid-cols-4"},J={class:"md:col-span-2 lg:col-span-3"},X={key:0,class:"mt-4 space-y-5"},Y={class:"px-4 py-5 sm:p-6"},Z={class:"flex items-start gap-2"},G={class:"flex-shrink-0 leading-7"},P=["innerHTML"],Q={class:"relative -space-y-px bg-white rounded-md"},q={key:1,class:"overflow-hidden bg-white divide-y divide-gray-200 rounded-lg shadow"},ee={class:"px-4 py-5 space-y-5 sm:p-6"},se={class:"px-4 py-3"},te={class:"flex items-start gap-2"},ae={class:"flex-shrink-0 leading-7"},le=["innerHTML"],re={class:"mt-3 text-sm text-gray-700"},ie={class:"flex-shrink-0"},ne={class:"px-4 py-4 sm:px-6"},oe={key:0,class:"space-y-5 md:sticky md:top-0"},de={class:"overflow-hidden bg-white divide-y divide-gray-200 rounded-lg shadow"},ue={class:"px-4 py-5 sm:p-6"},me={class:"text-lg font-semibold text-center"},ye={__name:"Show",setup(pe){const z=S(),E=$(),h=b({}),d=b(),u=b(),w=b([{name:"Evaluasi",route:{name:"evaluations"},current:!1}]);async function j(){const v=await N(z.params.id);if(d.value=v.data.evaluation,u.value=v.data.user_evaluation,w.value=[...w.value,{name:d.value.title,route:{name:"evaluations.show",params:{id:d.value.id}},current:!0}],!v.success)return A()}j();async function A(){await D({icon:"warning",title:"Mohon Maaf",text:"Anda harus menyelesaikan semua kuis terkait untuk mengerjakan evaluasi ini.",buttonText:"Kembali"}),E.back()}async function T(){await B(z.params.id,h.value),E.push("/evaluations")}const C=()=>{alert("Waktu habis!"),T()};return(v,t)=>{const H=L("router-link");return o(),p("div",I,[e("div",J,[i(U,{pages:w.value},null,8,["pages"]),d.value?(o(),p("div",X,[i(R,{"page-title":d.value.title},null,8,["page-title"]),d.value&&u.value&&!u.value.finished_at?(o(!0),p(M,{key:0},V(d.value.questions,(a,k)=>(o(),p("div",{key:a.id,class:"overflow-hidden bg-white rounded-lg shadow"},[e("div",Y,[e("div",Z,[e("p",G,c(k+1)+".",1),e("div",{class:"flex-1 prose",innerHTML:a.content},null,8,P)]),i(r(W),{class:"mt-5",modelValue:h.value[a.id],"onUpdate:modelValue":s=>h.value[a.id]=s},{default:n(()=>[e("div",Q,[(o(),_(r(y),{key:a.id+"_a",value:"a"},{default:n(({checked:s,active:g})=>[e("div",{class:l(["rounded-tl-md rounded-tr-md",s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:l([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",g?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},t[0]||(t[0]=[e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1)]),2),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>t[1]||(t[1]=[m(" a.")])),_:2},1032,["class"]),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>[m(c(a.details.option_a),1)]),_:2},1032,["class"])],2)]),_:2},1024)),(o(),_(r(y),{key:a.id+"_b",value:"b"},{default:n(({checked:s,active:g})=>[e("div",{class:l([s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:l([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",g?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},t[2]||(t[2]=[e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1)]),2),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>t[3]||(t[3]=[m(" b.")])),_:2},1032,["class"]),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>[m(c(a.details.option_b),1)]),_:2},1032,["class"])],2)]),_:2},1024)),(o(),_(r(y),{key:a.id+"_c",value:"c"},{default:n(({checked:s,active:g})=>[e("div",{class:l([s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:l([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",g?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},t[4]||(t[4]=[e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1)]),2),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>t[5]||(t[5]=[m(" c.")])),_:2},1032,["class"]),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>[m(c(a.details.option_c),1)]),_:2},1032,["class"])],2)]),_:2},1024)),(o(),_(r(y),{key:a.id+"_d",value:"d"},{default:n(({checked:s,active:g})=>[e("div",{class:l(["rounded-bl-md rounded-br-md",s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:l([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",g?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},t[6]||(t[6]=[e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1)]),2),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>t[7]||(t[7]=[m(" d.")])),_:2},1032,["class"]),i(r(f),{as:"span",class:l([s?"text-lime-900":"text-gray-900","ml-3"])},{default:n(()=>[m(c(a.details.option_d),1)]),_:2},1032,["class"])],2)]),_:2},1024))])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]))),128)):x("",!0),u.value&&u.value.finished_at?(o(),p("div",q,[e("div",ee,[t[9]||(t[9]=e("p",null,"Jazaakumullah khayran katsiran.",-1)),e("p",null,[t[8]||(t[8]=m("Nilai Anda ")),e("strong",null,c(u.value.score),1)]),(o(!0),p(M,null,V(d.value.questions,(a,k)=>(o(),p("div",{key:a.id,class:"overflow-hidden border border-gray-200 rounded-lg shadow-sm"},[e("div",se,[e("div",te,[e("p",ae,c(k+1)+".",1),e("div",{class:"flex-1 prose",innerHTML:a.content},null,8,le)]),e("div",re,[(o(),p(M,null,V(["a","b","c","d"],s=>e("div",{class:l(["flex items-center gap-2 px-2 py-1.5 rounded",[u.value.answers[a.id]==s?"bg-gray-100":""]])},[i(r(K),{class:l(["flex-shrink-0 w-5 h-5 text-lime-600",[a.answer==s?"":"opacity-0"]])},null,8,["class"]),e("p",ie,c(s)+".",1),e("p",null,c(a.details[`option_${s} `]),1)],2)),64))])])]))),128))]),e("div",ne,[i(H,{to:"/evaluations",class:"inline-flex rounded-md bg-white px-3.5 py-2.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},{default:n(()=>t[10]||(t[10]=[m("Kembali")])),_:1})])])):x("",!0)])):x("",!0)]),e("div",null,[d.value&&u.value&&!u.value.finished_at?(o(),p("div",oe,[e("div",de,[t[11]||(t[11]=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-center"},"Sisa Waktu")],-1)),e("div",ue,[e("p",me,[i(O,{"start-time":r(F)(u.value.created_at),duration:d.value.duration,onFinished:C},null,8,["start-time","duration"])])])]),e("button",{onClick:T,type:"button",class:"w-full rounded-md bg-lime-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-600"},"Selesai")])):x("",!0)])])}}};export{ye as default};
