import{r as l,v as n,G as m,y as s,u as r,K as g,X as x,ad as b,F as w,M as y,x as d,R as p}from"./@vue-CmeWuSD3.js";import{m as k}from"./marked-DaiSxq10.js";import{g as v,l as F,h as D,s as B}from"./index-D8O8KXoR.js";import{_ as M}from"./PageHeader-DHqEJvXM.js";import{_ as T}from"./Breadcrumbs-D30_HYsy.js";import{_ as A}from"./Pagination-CUicyj0c.js";import"./vue-router-CDk-xkD6.js";import"./axios-DW_MHI2K.js";import"./@headlessui-0xYe8XqW.js";import"./@heroicons-BoQYUCLx.js";import"./vee-validate-Bj-Mx_ql.js";import"./@vee-validate-Dp5Eofi2.js";import"./zod-CAEFwTIS.js";import"./vue-sonner-D4V0y7TK.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-n5GtVHHT.js";import"./radix-vue-CtCK4Iz_.js";import"./@floating-ui-CN3CcqHw.js";import"./class-variance-authority-Dp3B9jqt.js";import"./@vueuse-CrFSdR1N.js";import"./lucide-vue-next-CAHwnPek.js";import"./@radix-icons-D7BaxYRN.js";import"./sweetalert2-CumHaNCI.js";import"./date-fns-BFy15OHH.js";import"./@babel-QjJsDpFa.js";const C={class:"max-w-3xl"},L={class:"mb-4 overflow-hidden bg-white rounded-lg shadow"},S={class:"flex items-start px-4 py-5 space-x-4 sm:p-6"},U={class:"flex-shrink-0"},V=["src"],$={class:"flex-1 min-w-0"},H={class:"overflow-hidden rounded-lg shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-lime-600"},K={class:"overflow-hidden bg-white rounded-md shadow"},N={role:"list",class:"divide-y divide-gray-200"},z={class:"flex-shrink-0 mr-4"},E=["src"],G={class:"flex-1"},P={class:"flex items-center"},R={class:"text-sm font-semibold"},X={class:"ml-auto text-xs text-gray-500"},j=["innerHTML"],gs={__name:"Forum",setup(q){const h=l([{name:"Forum Ukhuwah",route:"/forum",current:!0}]),c=l(1),t=l({data:[]}),o=l({message:null}),u=async()=>{const a=await F({page:c.value});t.value=a.data};u();const f=a=>{c.value=a,u()},_=async()=>{if(!o.value.message)return;const a=await B({message:o.value.message});t.value={...t.value,data:[a.data,...t.value.data]},o.value={message:null}};return(a,i)=>(d(),n("div",null,[m(T,{class:"mb-4",pages:h.value},null,8,["pages"]),m(M,{class:"mb-8","page-title":"Forum Ukhuwah"}),s("div",C,[s("div",L,[s("div",S,[s("div",U,[s("img",{class:"inline-block w-10 h-10 rounded-full",src:"https://ui-avatars.com/api/?background=0D8ABC&color=fff&name="+(r(v).user?r(v).user.name:""),alt:""},null,8,V)]),s("div",$,[s("form",{onSubmit:g(_,["prevent"]),class:"relative"},[s("div",H,[x(s("textarea",{"onUpdate:modelValue":i[0]||(i[0]=e=>o.value.message=e),rows:"2",name:"comment",id:"comment",class:"block w-full resize-none border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Tuliskan pesan Anda di sini..."},null,512),[[b,o.value.message]]),i[1]||(i[1]=s("div",{class:"py-2","aria-hidden":"true"},[s("div",{class:"py-px"},[s("div",{class:"h-9"})])],-1))]),i[2]||(i[2]=s("div",{class:"absolute inset-x-0 bottom-0 flex py-2 pl-3 pr-2"},[s("div",{class:"flex-shrink-0 ml-auto"},[s("button",{type:"submit",class:"inline-flex items-center px-3 py-2 text-sm font-semibold text-white rounded-md shadow-sm bg-lime-600 hover:bg-lime-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-600"},"Kirim Pesan")])],-1))],32)])])]),s("div",K,[s("ul",N,[(d(!0),n(w,null,y(t.value.data,e=>(d(),n("li",{key:e.id,class:"flex px-6 py-4"},[s("div",z,[s("img",{class:"block w-10 h-10 rounded-full",src:"https://ui-avatars.com/api/?background=0D8ABC&color=fff&name="+(e.user?e.user.name:""),alt:""},null,8,E)]),s("div",G,[s("div",P,[s("p",R,p(e.user?e.user.name:"[user dihapus]"),1),s("p",X,p(r(D)(e.created_at)),1)]),s("div",{class:"mt-1 text-sm prose",innerHTML:r(k).parse(e.message)},null,8,j)])]))),128))]),m(A,{meta:t.value,onChange:f},null,8,["meta"])])])]))}};export{gs as default};
