import{r as k,A as m,x as t,B as l,y as o,G as n,u as a,v as u,R as y,ac as V,L as c,q as r,F as B,M as _,a2 as A}from"./@vue-CmeWuSD3.js";import{y as O}from"./index-D8O8KXoR.js";import{j as C,A as F,F as h,I as S}from"./@headlessui-0xYe8XqW.js";import{a as j,b as x}from"./@heroicons-BoQYUCLx.js";const z={class:"relative mt-2"},D={key:0,class:"block truncate"},K={key:1,class:"block text-gray-500 truncate"},N={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},G={__name:"CategoryPicker",props:{modelValue:Object,rootOnly:Boolean,showAllOption:Boolean},emits:["update:modelValue"],setup(s,{emit:b}){const w=s,v=b,d=k([]);return(async()=>{const p=await O(w.rootOnly);d.value=p.data})(),(p,f)=>(t(),m(a(S),{as:"div",modelValue:s.modelValue,"onUpdate:modelValue":f[0]||(f[0]=e=>v("update:modelValue",e)),by:"id"},{default:l(()=>[o("div",z,[n(a(C),{class:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-lime-600 sm:text-sm sm:leading-6"},{default:l(()=>[s.modelValue||s.showAllOption?(t(),u("span",D,y(s.modelValue?s.modelValue.name:"Semua Kategori"),1)):(t(),u("span",K,"Pilih Kategori")),o("span",N,[n(a(j),{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])]),_:1}),n(V,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[n(a(F),{class:"absolute z-10 w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:l(()=>[s.showAllOption?(t(),m(a(h),{key:0,as:"template",value:null},{default:l(({active:e,selected:i})=>[o("li",{class:r([e?"bg-lime-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[o("span",{class:r([i?"font-semibold":"font-normal","block truncate"])},"Semua Kategori",2),i?(t(),u("span",{key:0,class:r([e?"text-white":"text-lime-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[n(a(x),{class:"w-5 h-5","aria-hidden":"true"})],2)):c("",!0)],2)]),_:1})):c("",!0),(t(!0),u(B,null,_(d.value,e=>(t(),m(a(h),{as:"template",key:e.id,value:e},{default:l(({active:i,selected:g})=>[o("li",{class:r([i?"bg-lime-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"])},[o("span",{class:r([g?"font-semibold":"font-normal","block truncate"]),style:A("padding-left: "+.75*e.depth+"rem;")},y(e.name),7),g?(t(),u("span",{key:0,class:r([i?"text-white":"text-lime-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[n(a(x),{class:"w-5 h-5","aria-hidden":"true"})],2)):c("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};export{G as _};
