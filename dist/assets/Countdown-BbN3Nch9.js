import{c as Y,o as b,b as x,M as f,N as d,P as o,_ as O,Q as k,R as $,r as H,S as R,t as z}from"./index-Br-gJQUS.js";function Ne(r,e){return b(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[x("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}var p=6e4,T=36e5;function pe(r,e){var t;f(1,arguments);var a=d((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var n=Z(r),s;if(n.date){var u=B(n.date,a);s=j(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var i=s.getTime(),l=0,v;if(n.time&&(l=L(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(v=P(n.timezone),isNaN(v))return new Date(NaN)}else{var c=new Date(i+l),m=new Date(0);return m.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),m.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),m}return new Date(i+l+v)}var M={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},E=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,W=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,A=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Z(r){var e={},t=r.split(M.dateTimeDelimiter),a;if(t.length>2)return e;if(/:/.test(t[0])?a=t[0]:(e.date=t[0],a=t[1],M.timeZoneDelimiter.test(e.date)&&(e.date=r.split(M.timeZoneDelimiter)[0],a=r.substr(e.date.length,r.length))),a){var n=M.timezone.exec(a);n?(e.time=a.replace(n[1],""),e.timezone=n[1]):e.time=a}return e}function B(r,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=r.match(t);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,s=a[2]?parseInt(a[2]):null;return{year:s===null?n:s*100,restDateString:r.slice((a[1]||a[2]).length)}}function j(r,e){if(e===null)return new Date(NaN);var t=r.match(E);if(!t)return new Date(NaN);var a=!!t[4],n=h(t[1]),s=h(t[2])-1,u=h(t[3]),i=h(t[4]),l=h(t[5])-1;if(a)return G(e,i,l)?q(e,i,l):new Date(NaN);var v=new Date(0);return!Q(e,s,u)||!V(e,n)?new Date(NaN):(v.setUTCFullYear(e,s,Math.max(n,u)),v)}function h(r){return r?parseInt(r):1}function L(r){var e=r.match(W);if(!e)return NaN;var t=N(e[1]),a=N(e[2]),n=N(e[3]);return K(t,a,n)?t*T+a*p+n*1e3:NaN}function N(r){return r&&parseFloat(r.replace(",","."))||0}function P(r){if(r==="Z")return 0;var e=r.match(A);if(!e)return 0;var t=e[1]==="+"?-1:1,a=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return X(a,n)?t*(a*T+n*p):NaN}function q(r,e,t){var a=new Date(0);a.setUTCFullYear(r,0,4);var n=a.getUTCDay()||7,s=(e-1)*7+t+1-n;return a.setUTCDate(a.getUTCDate()+s),a}var J=[31,null,31,30,31,30,31,31,30,31,30,31];function S(r){return r%400===0||r%4===0&&r%100!==0}function Q(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(J[e]||(S(r)?29:28))}function V(r,e){return e>=1&&e<=(S(r)?366:365)}function G(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function K(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function X(r,e){return e>=0&&e<=59}function g(r,e){f(2,arguments);var t=o(r),a=o(e),n=t.getTime()-a.getTime();return n<0?-1:n>0?1:n}function ee(r,e){f(2,arguments);var t=o(r),a=d(e);return isNaN(a)?new Date(NaN):(a&&t.setDate(t.getDate()+a),t)}function te(r,e){f(2,arguments);var t=o(r),a=d(e);if(isNaN(a))return new Date(NaN);if(!a)return t;var n=t.getDate(),s=new Date(t.getTime());s.setMonth(t.getMonth()+a+1,0);var u=s.getDate();return n>=u?s:(t.setFullYear(s.getFullYear(),s.getMonth(),n),t)}function D(r,e){if(f(2,arguments),!e||O(e)!=="object")return new Date(NaN);var t=e.years?d(e.years):0,a=e.months?d(e.months):0,n=e.weeks?d(e.weeks):0,s=e.days?d(e.days):0,u=e.hours?d(e.hours):0,i=e.minutes?d(e.minutes):0,l=e.seconds?d(e.seconds):0,v=o(r),c=a||t?te(v,a+t*12):v,m=s||n?ee(c,s+n*7):c,C=i+u*60,F=l+C*60,U=F*1e3,_=new Date(m.getTime()+U);return _}function y(r,e){var t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function re(r,e){f(2,arguments);var t=o(r),a=o(e),n=y(t,a),s=Math.abs(k(t,a));t.setDate(t.getDate()-n*s);var u=+(y(t,a)===-n),i=n*(s-u);return i===0?0:i}function w(r,e){return f(2,arguments),o(r).getTime()-o(e).getTime()}var ae={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},ne="trunc";function I(r){return ae[ne]}function se(r,e,t){f(2,arguments);var a=w(r,e)/T;return I()(a)}function ie(r,e,t){f(2,arguments);var a=w(r,e)/p;return I()(a)}function ue(r,e){f(2,arguments);var t=o(r),a=o(e),n=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();return n*12+s}function oe(r){f(1,arguments);var e=o(r);return e.setHours(23,59,59,999),e}function fe(r){f(1,arguments);var e=o(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function le(r){f(1,arguments);var e=o(r);return oe(e).getTime()===fe(e).getTime()}function ve(r,e){f(2,arguments);var t=o(r),a=o(e),n=g(t,a),s=Math.abs(ue(t,a)),u;if(s<1)u=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-n*s);var i=g(t,a)===-n;le(o(r))&&s===1&&g(r,a)===1&&(i=!1),u=n*(s-Number(i))}return u===0?0:u}function de(r,e,t){f(2,arguments);var a=w(r,e)/1e3;return I()(a)}function ce(r,e){f(2,arguments);var t=o(r),a=o(e);return t.getFullYear()-a.getFullYear()}function ge(r,e){f(2,arguments);var t=o(r),a=o(e),n=g(t,a),s=Math.abs(ce(t,a));t.setFullYear(1584),a.setFullYear(1584);var u=g(t,a)===-n,i=n*(s-Number(u));return i===0?0:i}function me(r){f(1,arguments);var e=o(r.start),t=o(r.end);if(isNaN(e.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(t.getTime()))throw new RangeError("End Date is invalid");var a={};a.years=Math.abs(ge(t,e));var n=g(t,e),s=D(e,{years:n*a.years});a.months=Math.abs(ve(t,s));var u=D(s,{months:n*a.months});a.days=Math.abs(re(t,u));var i=D(u,{days:n*a.days});a.hours=Math.abs(se(t,i));var l=D(i,{hours:n*a.hours});a.minutes=Math.abs(ie(t,l));var v=D(l,{minutes:n*a.minutes});return a.seconds=Math.abs(de(t,v)),a}var he=6e4;function De(r,e){f(2,arguments);var t=d(e);return $(r,t*he)}const Te={__name:"Countdown",props:{startTime:Date,duration:Number|String},emits:["finished"],setup(r,{emit:e}){const t=H("00:00"),a=i=>String(i).padStart(2,"0"),n=e,s=r;R(()=>{u&&clearInterval(u)});const u=setInterval(()=>{if(s.startTime){const i=me({start:new Date,end:De(s.startTime,s.duration)});let l="";i.hours>0&&(l=`${a(i.hours)}:`),t.value=`${l}${a(i.minutes)}:${a(i.seconds)}`,t.value=="00:00"&&(clearInterval(u),n("finished"))}else t.value="00:00"},1e3);return(i,l)=>(b(),Y("span",null,z(t.value),1))}};export{Te as _,pe as p,Ne as r};
