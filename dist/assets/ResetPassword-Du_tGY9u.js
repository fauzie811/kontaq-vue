import{r as F,t as h,o as q,s as f,u as C,x as K,y as L,K as _,a as N,c as T,b as l,d as a,w as t,e as s,_ as w,g as b,h as d,i as x,j as k,m as v,k as g,F as y,l as P,n as V,L as j,p as A,q as D,v as u}from"./index-BKFwgYGj.js";const E={class:"grid gap-6"},M={class:"text-sm text-center"},z={__name:"ResetPasswordForm",setup($){const m=N(),i=L(),o=F(!1),R=h(q({password:f().min(8,"Password minimal 8 karakter"),password_confirmation:f()}).refine(r=>r.password===r.password_confirmation,{message:"Password tidak sama",path:["password_confirmation"]})),{isFieldDirty:c,handleSubmit:S}=C({validationSchema:R}),p=S(async r=>{o.value=!0;try{await K({token:i.params.token,email:i.query.email,password:r.password,password_confirmation:r.password_confirmation}),_.success("Password berhasil direset"),m.push({name:"login"})}catch(e){_.error(e)}o.value=!1});return(r,e)=>{const B=D("router-link");return u(),T("form",{onSubmit:e[0]||(e[0]=(...n)=>s(p)&&s(p)(...n)),class:"flex flex-col gap-6"},[e[5]||(e[5]=l("div",{class:"flex flex-col items-center gap-2 text-center"},[l("h1",{class:"text-2xl font-bold"},"Reset Password"),l("p",{class:"text-sm text-balance text-muted-foreground"}," Masukkan password baru Anda. ")],-1)),l("div",E,[a(s(y),{name:"password","validate-on-blur":!s(c)},{default:t(({componentField:n})=>[a(s(w),null,{default:t(()=>[a(s(b),null,{default:t(()=>e[1]||(e[1]=[d("Password Baru")])),_:1}),a(s(x),null,{default:t(()=>[a(s(k),v({type:"password",autocomplete:"new-password"},n,{required:"",disabled:o.value}),null,16,["disabled"])]),_:2},1024),a(s(g))]),_:2},1024)]),_:1},8,["validate-on-blur"]),a(s(y),{name:"password_confirmation","validate-on-blur":!s(c)},{default:t(({componentField:n})=>[a(s(w),null,{default:t(()=>[a(s(b),null,{default:t(()=>e[2]||(e[2]=[d("Konfirmasi Password")])),_:1}),a(s(x),null,{default:t(()=>[a(s(k),v({type:"password",autocomplete:"new-password"},n,{required:"",disabled:o.value}),null,16,["disabled"])]),_:2},1024),a(s(g))]),_:2},1024)]),_:1},8,["validate-on-blur"]),a(s(A),{type:"submit",class:"w-full",disabled:o.value},{default:t(()=>[o.value?(u(),P(s(j),{key:0,class:"w-4 h-4 animate-spin"})):V("",!0),e[3]||(e[3]=d(" Reset Password "))]),_:1},8,["disabled"])]),l("div",M,[a(B,{to:"/login",class:"underline underline-offset-4"},{default:t(()=>e[4]||(e[4]=[d("Kembali ke Login")])),_:1})])],32)}}},H={__name:"ResetPassword",setup($){return(m,i)=>(u(),P(s(z)))}};export{H as default};
