import{q as C,x as H,r as g,k as N,o as n,c,b as e,a as r,F as k,e as M,j as v,p as u,t as m,i,u as l,K as S,L as B,M as F,h,n as t,G as p,H as b,I as $}from"./index-cae367f7.js";import{_ as K,r as D,p as I}from"./Countdown-afc8f719.js";import{_ as R}from"./PageHeader-46ed82b2.js";import{_ as U}from"./Breadcrumbs-ea717a7e.js";const W={class:"grid gap-5 md:grid-cols-3 lg:grid-cols-4"},G={class:"md:col-span-2 lg:col-span-3"},J={key:0,class:"mt-4 space-y-5"},O={class:"px-4 py-5 sm:p-6"},P={class:"flex items-start gap-2"},Q={class:"flex-shrink-0 leading-7"},X=["innerHTML"],Y={class:"relative -space-y-px bg-white rounded-md"},Z=e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),q=[Z],ee=e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),se=[ee],ae=e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),te=[ae],le=e("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),re=[le],ie={key:1,class:"overflow-hidden bg-white divide-y divide-gray-200 rounded-lg shadow"},ne={class:"px-4 py-5 space-y-5 sm:p-6"},oe=e("p",null,"Jazaakumullah khayran katsiran.",-1),de={class:"px-4 py-3"},ue={class:"flex items-start gap-2"},ce={class:"flex-shrink-0 leading-7"},me=["innerHTML"],pe={class:"mt-3 text-sm text-gray-700"},_e={class:"flex-shrink-0"},fe={class:"px-4 py-4 sm:px-6"},ge={key:0,class:"space-y-5 md:sticky md:top-0"},ve={class:"overflow-hidden bg-white divide-y divide-gray-200 rounded-lg shadow"},he=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-center"},"Sisa Waktu")],-1),be={class:"px-4 py-5 sm:p-6"},xe={class:"text-lg font-semibold text-center"},ze={__name:"Show",setup(ye){const V=C(),j=H(),x=g({}),o=g(),d=g(),y=g([{name:"Evaluasi",route:{name:"evaluations"},current:!1}]);async function E(){const f=await S(V.params.id);if(o.value=f.data.evaluation,d.value=f.data.user_evaluation,y.value=[...y.value,{name:o.value.title,route:{name:"evaluations.show",params:{id:o.value.id}},current:!0}],!f.success)return L()}E();async function L(){await B({icon:"warning",title:"Mohon Maaf",text:"Anda harus menyelesaikan semua kuis terkait untuk mengerjakan evaluasi ini.",buttonText:"Kembali"}),j.back()}async function z(){await F(V.params.id,x.value),j.push("/evaluations")}const T=()=>{alert("Waktu habis!"),z()};return(f,we)=>{const A=N("router-link");return n(),c("div",W,[e("div",G,[r(U,{pages:y.value},null,8,["pages"]),o.value?(n(),c("div",J,[r(R,{"page-title":o.value.title},null,8,["page-title"]),o.value&&d.value&&!d.value.finished_at?(n(!0),c(k,{key:0},M(o.value.questions,(a,w)=>(n(),c("div",{key:a.id,class:"overflow-hidden bg-white rounded-lg shadow"},[e("div",O,[e("div",P,[e("p",Q,m(w+1)+".",1),e("div",{class:"flex-1 prose",innerHTML:a.content},null,8,X)]),r(l($),{class:"mt-5",modelValue:x.value[a.id],"onUpdate:modelValue":s=>x.value[a.id]=s},{default:i(()=>[e("div",Y,[(n(),h(l(b),{key:a.id+"_a",value:"a"},{default:i(({checked:s,active:_})=>[e("div",{class:t(["rounded-tl-md rounded-tr-md",s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:t([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",_?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},q,2),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(" a.")]),_:2},1032,["class"]),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(m(a.details.option_a),1)]),_:2},1032,["class"])],2)]),_:2},1024)),(n(),h(l(b),{key:a.id+"_b",value:"b"},{default:i(({checked:s,active:_})=>[e("div",{class:t([s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:t([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",_?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},se,2),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(" b.")]),_:2},1032,["class"]),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(m(a.details.option_b),1)]),_:2},1032,["class"])],2)]),_:2},1024)),(n(),h(l(b),{key:a.id+"_c",value:"c"},{default:i(({checked:s,active:_})=>[e("div",{class:t([s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:t([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",_?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},te,2),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(" c.")]),_:2},1032,["class"]),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(m(a.details.option_c),1)]),_:2},1032,["class"])],2)]),_:2},1024)),(n(),h(l(b),{key:a.id+"_d",value:"d"},{default:i(({checked:s,active:_})=>[e("div",{class:t(["rounded-bl-md rounded-br-md",s?"z-10 border-lime-200 bg-lime-50":"border-gray-200","relative cursor-pointer border p-4 flex items-center text-sm focus:outline-none md:pl-4 md:pr-6"])},[e("span",{class:t([s?"bg-lime-600 border-transparent":"bg-white border-gray-300",_?"ring-2 ring-offset-2 ring-lime-600":"","h-4 w-4 rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},re,2),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(" d.")]),_:2},1032,["class"]),r(l(p),{as:"span",class:t([s?"text-lime-900":"text-gray-900","ml-3"])},{default:i(()=>[u(m(a.details.option_d),1)]),_:2},1032,["class"])],2)]),_:2},1024))])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]))),128)):v("",!0),d.value&&d.value.finished_at?(n(),c("div",ie,[e("div",ne,[oe,e("p",null,[u("Nilai Anda "),e("strong",null,m(d.value.score),1)]),(n(!0),c(k,null,M(o.value.questions,(a,w)=>(n(),c("div",{key:a.id,class:"overflow-hidden border border-gray-200 rounded-lg shadow-sm"},[e("div",de,[e("div",ue,[e("p",ce,m(w+1)+".",1),e("div",{class:"flex-1 prose",innerHTML:a.content},null,8,me)]),e("div",pe,[(n(),c(k,null,M(["a","b","c","d"],s=>e("div",{class:t(["flex items-center gap-2 px-2 py-1.5 rounded",[d.value.answers[a.id]==s?"bg-gray-100":""]])},[r(l(D),{class:t(["flex-shrink-0 w-5 h-5 text-lime-600",[a.answer==s?"":"opacity-0"]])},null,8,["class"]),e("p",_e,m(s)+".",1),e("p",null,m(a.details[`option_${s} `]),1)],2)),64))])])]))),128))]),e("div",fe,[r(A,{to:"/evaluations",class:"inline-flex rounded-md bg-white px-3.5 py-2.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"},{default:i(()=>[u("Kembali")]),_:1})])])):v("",!0)])):v("",!0)]),e("div",null,[o.value&&d.value&&!d.value.finished_at?(n(),c("div",ge,[e("div",ve,[he,e("div",be,[e("p",xe,[r(K,{"start-time":l(I)(d.value.created_at),duration:o.value.duration,onFinished:T},null,8,["start-time","duration"])])])]),e("button",{onClick:z,type:"button",class:"w-full rounded-md bg-lime-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-lime-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-lime-600"},"Selesai")])):v("",!0)])])}}};export{ze as default};
