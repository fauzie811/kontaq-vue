import{r as L,_ as c,a as _,b as w,c as b,d as x,e as C}from"./index-D8O8KXoR.js";import{b as F,u as K}from"./vue-router-CDk-xkD6.js";import{e as N,f as v}from"./vee-validate-Bj-Mx_ql.js";import{t as T}from"./@vee-validate-Dp5Eofi2.js";import{o as V,s as k}from"./zod-CAEFwTIS.js";import{K as g}from"./vue-sonner-D4V0y7TK.js";import{L as h}from"./lucide-vue-next-CAHwnPek.js";import{r as q,v as A,y as n,G as a,B as o,u as s,O as l,z as y,A as P,L as j,ab as z,x as d}from"./@vue-CmeWuSD3.js";import"./axios-DW_MHI2K.js";import"./@headlessui-0xYe8XqW.js";import"./@heroicons-BoQYUCLx.js";import"./clsx-B-dksMZM.js";import"./tailwind-merge-n5GtVHHT.js";import"./radix-vue-CtCK4Iz_.js";import"./@floating-ui-CN3CcqHw.js";import"./class-variance-authority-Dp3B9jqt.js";import"./@vueuse-CrFSdR1N.js";import"./@radix-icons-D7BaxYRN.js";import"./sweetalert2-CumHaNCI.js";import"./date-fns-BFy15OHH.js";import"./@babel-QjJsDpFa.js";const D={class:"grid gap-6"},E={class:"text-sm text-center"},G={__name:"ResetPasswordForm",setup($){const u=K(),m=F(),t=q(!1),B=T(V({password:k().min(8,"Password minimal 8 karakter"),password_confirmation:k()}).refine(r=>r.password===r.password_confirmation,{message:"Password tidak sama",path:["password_confirmation"]})),{isFieldDirty:p,handleSubmit:R}=N({validationSchema:B}),f=R(async r=>{t.value=!0;try{await L({token:m.params.token,email:m.query.email,password:r.password,password_confirmation:r.password_confirmation}),g.success("Password berhasil direset"),u.push({name:"login"})}catch(e){g.error(e)}t.value=!1});return(r,e)=>{const S=z("router-link");return d(),A("form",{onSubmit:e[0]||(e[0]=(...i)=>s(f)&&s(f)(...i)),class:"flex flex-col gap-6"},[e[5]||(e[5]=n("div",{class:"flex flex-col items-center gap-2 text-center"},[n("h1",{class:"text-2xl font-bold"},"Reset Password"),n("p",{class:"text-sm text-balance text-muted-foreground"}," Masukkan password baru Anda. ")],-1)),n("div",D,[a(s(v),{name:"password","validate-on-blur":!s(p)},{default:o(({componentField:i})=>[a(s(c),null,{default:o(()=>[a(s(_),null,{default:o(()=>e[1]||(e[1]=[l("Password Baru")])),_:1}),a(s(w),null,{default:o(()=>[a(s(b),y({type:"password",autocomplete:"new-password"},i,{required:"",disabled:t.value}),null,16,["disabled"])]),_:2},1024),a(s(x))]),_:2},1024)]),_:1},8,["validate-on-blur"]),a(s(v),{name:"password_confirmation","validate-on-blur":!s(p)},{default:o(({componentField:i})=>[a(s(c),null,{default:o(()=>[a(s(_),null,{default:o(()=>e[2]||(e[2]=[l("Konfirmasi Password")])),_:1}),a(s(w),null,{default:o(()=>[a(s(b),y({type:"password",autocomplete:"new-password"},i,{required:"",disabled:t.value}),null,16,["disabled"])]),_:2},1024),a(s(x))]),_:2},1024)]),_:1},8,["validate-on-blur"]),a(s(C),{type:"submit",class:"w-full",disabled:t.value},{default:o(()=>[t.value?(d(),P(s(h),{key:0,class:"w-4 h-4 animate-spin"})):j("",!0),e[3]||(e[3]=l(" Reset Password "))]),_:1},8,["disabled"])]),n("div",E,[a(S,{to:"/login",class:"underline underline-offset-4"},{default:o(()=>e[4]||(e[4]=[l("Kembali ke Login")])),_:1})])],32)}}},ds={__name:"ResetPassword",setup($){return(u,m)=>(d(),P(s(G)))}};export{ds as default};
