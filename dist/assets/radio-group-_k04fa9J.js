import{d as J,e as Y,f as z,u as Q,p as X}from"./form-DBM8_knK.js";import{r as k,aa as i,a9 as G,au as P,ac as j,ad as x,e as Z,af as C,aq as B,ap as D,aN as R,b5 as ee,ag as A,al as ae,ae as V,aS as le,aB as te,D as re,aU as oe,aA as S,ab as T,ai as F,aj as $,am as N}from"./index-BKFwgYGj.js";import{k as I}from"./description-Be9nT-VS.js";let K=Symbol("LabelContext");function U(){let a=B(K,null);if(a===null){let n=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,U),n}return a}function _({slot:a={},name:n="Label",props:m={}}={}){let v=k([]);function g(s){return v.value.push(s),()=>{let u=v.value.indexOf(s);u!==-1&&v.value.splice(u,1)}}return D(K,{register:g,slot:a,name:n,props:m}),i(()=>v.value.length>0?v.value.join(" "):void 0)}let ne=G({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{slots:n,attrs:m}){var v;let g=(v=a.id)!=null?v:`headlessui-label-${P()}`,s=U();return j(()=>x(s.register(g))),()=>{let{name:u="Label",slot:c={},props:r={}}=s,{passive:y,...O}=a,d={...Object.entries(r).reduce((E,[f,b])=>Object.assign(E,{[f]:Z(b)}),{}),id:g};return y&&(delete d.onClick,delete d.htmlFor,delete O.onClick),C({ourProps:d,theirProps:O,slot:c,attrs:m,slots:n,name:u})}}});function ue(a,n){return a===n}let H=Symbol("RadioGroupContext");function M(a){let n=B(H,null);if(n===null){let m=new Error(`<${a} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(m,M),m}return n}let ve=G({name:"RadioGroup",emits:{"update:modelValue":a=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ue},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(a,{emit:n,attrs:m,slots:v,expose:g}){var s;let u=(s=a.id)!=null?s:`headlessui-radiogroup-${P()}`,c=k(null),r=k([]),y=_({name:"RadioGroupLabel"}),O=I({name:"RadioGroupDescription"});g({el:c,$el:c});let[d,E]=J(i(()=>a.modelValue),e=>n("update:modelValue",e),i(()=>a.defaultValue)),f={options:r,value:d,disabled:i(()=>a.disabled),firstOption:i(()=>r.value.find(e=>!e.propsRef.disabled)),containsCheckedOption:i(()=>r.value.some(e=>f.compare(R(e.propsRef.value),R(a.modelValue)))),compare(e,t){if(typeof a.by=="string"){let l=a.by;return(e==null?void 0:e[l])===(t==null?void 0:t[l])}return a.by(e,t)},change(e){var t;if(a.disabled||f.compare(R(d.value),R(e)))return!1;let l=(t=r.value.find(p=>f.compare(R(p.propsRef.value),R(e))))==null?void 0:t.propsRef;return l!=null&&l.disabled?!1:(E(e),!0)},registerOption(e){r.value.push(e),r.value=oe(r.value,t=>t.element)},unregisterOption(e){let t=r.value.findIndex(l=>l.id===e);t!==-1&&r.value.splice(t,1)}};D(H,f),ee({container:i(()=>A(c)),accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});function b(e){if(!c.value||!c.value.contains(e.target))return;let t=r.value.filter(l=>l.propsRef.disabled===!1).map(l=>l.element);switch(e.key){case S.Enter:X(e.currentTarget);break;case S.ArrowLeft:case S.ArrowUp:if(e.preventDefault(),e.stopPropagation(),F(t,$.Previous|$.WrapAround)===N.Success){let l=r.value.find(p=>{var o;return p.element===((o=T(c))==null?void 0:o.activeElement)});l&&f.change(l.propsRef.value)}break;case S.ArrowRight:case S.ArrowDown:if(e.preventDefault(),e.stopPropagation(),F(t,$.Next|$.WrapAround)===N.Success){let l=r.value.find(p=>{var o;return p.element===((o=T(p.element))==null?void 0:o.activeElement)});l&&f.change(l.propsRef.value)}break;case S.Space:{e.preventDefault(),e.stopPropagation();let l=r.value.find(p=>{var o;return p.element===((o=T(p.element))==null?void 0:o.activeElement)});l&&f.change(l.propsRef.value)}break}}let h=i(()=>{var e;return(e=A(c))==null?void 0:e.closest("form")});return j(()=>{ae([h],()=>{if(!h.value||a.defaultValue===void 0)return;function e(){f.change(a.defaultValue)}return h.value.addEventListener("reset",e),()=>{var t;(t=h.value)==null||t.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{disabled:e,name:t,form:l,...p}=a,o={ref:c,id:u,role:"radiogroup","aria-labelledby":y.value,"aria-describedby":O.value,onKeydown:b};return V(re,[...t!=null&&d.value!=null?Y({[t]:d.value}).map(([w,L])=>V(z,le({features:Q.Hidden,key:w,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,disabled:e,name:w,value:L}))):[],C({ourProps:o,theirProps:{...m,...te(p,["modelValue","defaultValue","by"])},slot:{},attrs:m,slots:v,name:"RadioGroup"})])}}});var ie=(a=>(a[a.Empty=1]="Empty",a[a.Active=2]="Active",a))(ie||{});let ce=G({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{attrs:n,slots:m,expose:v}){var g;let s=(g=a.id)!=null?g:`headlessui-radiogroup-option-${P()}`,u=M("RadioGroupOption"),c=_({name:"RadioGroupLabel"}),r=I({name:"RadioGroupDescription"}),y=k(null),O=i(()=>({value:a.value,disabled:a.disabled})),d=k(1);v({el:y,$el:y});let E=i(()=>A(y));j(()=>u.registerOption({id:s,element:E,propsRef:O})),x(()=>u.unregisterOption(s));let f=i(()=>{var o;return((o=u.firstOption.value)==null?void 0:o.id)===s}),b=i(()=>u.disabled.value||a.disabled),h=i(()=>u.compare(R(u.value.value),R(a.value))),e=i(()=>b.value?-1:h.value||!u.containsCheckedOption.value&&f.value?0:-1);function t(){var o;u.change(a.value)&&(d.value|=2,(o=A(y))==null||o.focus())}function l(){d.value|=2}function p(){d.value&=-3}return()=>{let{value:o,disabled:w,...L}=a,W={checked:h.value,disabled:b.value,active:!!(d.value&2)},q={id:s,ref:y,role:"radio","aria-checked":h.value?"true":"false","aria-labelledby":c.value,"aria-describedby":r.value,"aria-disabled":b.value?!0:void 0,tabIndex:e.value,onClick:b.value?void 0:t,onFocus:b.value?void 0:l,onBlur:b.value?void 0:p};return C({ourProps:q,theirProps:L,slot:W,attrs:n,slots:m,name:"RadioGroupOption"})}}}),fe=ne;export{ce as O,ve as h,fe as k};
