import{r as b,t as v,o as w,s as y,u as F,f as L,K as i,a as $,c as S,b as o,d as s,w as l,e as a,_ as h,g as P,h as d,i as B,j as C,m as K,k as N,F as T,l as _,n as V,L as E,p as j,q,v as m}from"./index-BKFwgYGj.js";const A={class:"grid gap-6"},R={class:"text-sm text-center"},D={__name:"ForgotPasswordForm",setup(p){const u=$(),t=b(!1),k=v(w({email:y().email("Email tidak valid")})),{isFieldDirty:x,handleSubmit:g}=F({validationSchema:k}),c=g(async f=>{t.value=!0;try{const{success:e,message:n}=await L(f.email);e?(i.success("Link reset password telah dikirim ke email Anda"),u.push({name:"login"})):i.error(n)}catch(e){i.error(e)}t.value=!1});return(f,e)=>{const n=q("router-link");return m(),S("form",{onSubmit:e[0]||(e[0]=(...r)=>a(c)&&a(c)(...r)),class:"flex flex-col gap-6"},[e[4]||(e[4]=o("div",{class:"flex flex-col items-center gap-2 text-center"},[o("h1",{class:"text-2xl font-bold"},"Lupa Password"),o("p",{class:"text-sm text-balance text-muted-foreground"}," Masukkan email Anda untuk mendapatkan link reset password. ")],-1)),o("div",A,[s(a(T),{name:"email","validate-on-blur":!a(x)},{default:l(({componentField:r})=>[s(a(h),null,{default:l(()=>[s(a(P),null,{default:l(()=>e[1]||(e[1]=[d("Email")])),_:1}),s(a(B),null,{default:l(()=>[s(a(C),K({type:"email",autocomplete:"email"},r,{required:"",disabled:t.value}),null,16,["disabled"])]),_:2},1024),s(a(N))]),_:2},1024)]),_:1},8,["validate-on-blur"]),s(a(j),{type:"submit",class:"w-full",disabled:t.value},{default:l(()=>[t.value?(m(),_(a(E),{key:0,class:"w-4 h-4 animate-spin"})):V("",!0),e[2]||(e[2]=d(" Kirim Link Reset "))]),_:1},8,["disabled"])]),o("div",R,[s(n,{to:"/login",class:"underline underline-offset-4"},{default:l(()=>e[3]||(e[3]=[d("Kembali ke Login")])),_:1})])],32)}}},z={__name:"ForgotPassword",setup(p){return(u,t)=>(m(),_(a(D)))}};export{z as default};
